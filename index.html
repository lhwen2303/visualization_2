<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

    <script src="visualization_2_bar.js"></script>
    <script src="visualization_2_heatMap.js"></script>
    <script src="visualization_2_stacked_area.js"></script>
    <script src="visualization_2_stacked_bar.js"></script>
    <script src="visualization_2_map.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f9;
            color: #333;
        }

        header {
            font-family: "Times New Roman", Times, serif;
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            width: 100%;
            text-align: center; /* Center header content */
        }

        header h1 {
            font-size: 2.5rem;
            margin: 0;
        }

        header p {
            font-size: 1.2rem;
            margin: 10px 0;
        }

        section {
            padding: 20px;
            margin: 20px auto; /* Center the section horizontally */
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            width: 100%;
            max-width: 1200px; /* Max width to prevent it from being too wide */
            margin-top: 20px;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            text-align: left;
        }

        .graph-block {
            margin-bottom: 10px; /* Increase the bottom margin to create larger space between graph blocks */
            text-align: right;
        }

        .graph-block h3 {
            font-family: "Times New Roman", Times, serif;
            font-size: 1.8rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .graph-description {
            font-size: 1.1rem;
            margin-top: 10px;
            margin-left: 0;
            display: flex;
            justify-content: space-evenly; /* Evenly spaces content */
            align-items: center; /* Align description text to the top */
            height: 400px; /* Set a fixed height for description */
            width: 50%; /* Same width as the graph */
            padding-left: 15px; /* Adjust this value to control the internal left whitespace */
             text-align: justify; /* Justifies the text, aligning it to both the left and right edges */
        }

        .graph-container {
            width: 50%; /* Half width for the graph */
            height: 400px; /* Set a fixed height for the graphs */
            min-height: 400px;
            margin-top: 30px;
        }

        .graph-row {
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align both graph and description to the top */
            width: 100%;
            gap: 50px;
        } 

        @media (max-width: 768px) {
            .graph-row {
                flex-direction: column;
                align-items: flex-start;
            }

            .graph-description,
            .graph-container {
                width: 100%;
                padding-right: 0;
                height: auto; /* Allow height to adjust on smaller screens */
            }
        }
    </style>

</head>

<body>

    <header>
        <h1>Malaysia's Population (2010 - 2025)</h1>
        <p>Analyzing Malaysia's Population Trends by Age, Gender, Ethnicity, and State from 2010 to 2025</p>
    </header>

    <section>

        <!-- Graph Block 5 (Choropleth Map) -->
        <div class="graph-block">
            <h3>State Populations Relative to National Population</h3>
        </div>
        <div class="graph-row">
            <div class="graph-description">
                <p>Male population consistently remains slightly higher than female across all years. Both genders show a steady upward trend, contributing to overall population growth. The gender gap is relatively small and 
                    remains stable, which reflects a fairly balanced demographic structure in Malaysia.</p>
            </div>
            <div class="graph-container" id="map"></div>
        </div>

        <!-- Graph Block 1 (Bar Chart) -->
        <div class="graph-block">
            <h3>Ethnic Group Population Distribution</h3>
        </div>
        <div class="graph-row" style="margin-bottom: 120px;">
            <div class="graph-description">
                <p>Malays consistently constitute the largest ethnic group in Malaysia from 2010 to 2025, dominating the population share over the entire period. 
                    Chinese remain the second largest group, followed by Other Bumiputera as the third.</p>
            </div>
            <div class="graph-container" id="barChart"></div>
        </div>

        <!-- Graph Block 3 (Stacked Area Chart) -->
        <div class="graph-block">
            <h3>Statewise Population Growth</h3>
        </div>
        <div class="graph-row">
            <div class="graph-description">
                <p>Selangor stands out as the most populous state throughout the period. Johor and Sabah follow as the second and third most populous states, contributing notably to the overall increase in national population.
                    The overall upward trend in the chart highlights Malaysia’s growing population.</p>
            </div>
            <div class="graph-container" id="stackedArea"></div>
        </div>

        <!-- Graph Block 4 (Stacked Bar) -->
        <div class="graph-block">
            <h3>Gender-Based Population Growth</h3>
        </div>
        <div class="graph-row">
            <div class="graph-description">
                <p>Male population consistently remains slightly higher than female across all years. Both genders show a steady upward trend, contributing to overall population growth. The gender gap is relatively small and 
                    remains stable, which reflects a fairly balanced demographic structure in Malaysia.</p>
            </div>
            <div class="graph-container" id="stackedBar"></div>
        </div>

         <!-- Graph Block 2 (Heatmap) -->
        <div class="graph-block">
            <h3>Population Distribution by Age Group</h3>
        </div>
        <div class="graph-row">
            <div class="graph-description">
                <p>The darkest shades (indicating the highest population counts) are consistently seen in the 25–29, 30–34, and 35–39 age groups, making them the most populous segments throughout the years.
                    Younger age groups like 0–4 and 5–9 show lighter colors over time, indicating slower growth or even decline, which possibly reflecting lower birth rates.</p>
            </div>
            <div class="graph-container" id="heatMap"></div>
        </div>

        

    </section>

    <script type="text/javascript">
        var barChart = "js/visualization_2_bar.vg.json";
        var heatMap = "js/visualization_2_heatmap.vg.json";
        var map = "js/visualization_2_map.vg.json";
        var stackedArea = "js/visualization_2_stacked_area.vg.json";
        var stackedBar = "js/visualization_2_stacked_bar.vg.json";

        vegaEmbed("#barChart", barChart, { "actions": false }).then(function(result) {
            // Access the Vega view instance
            // (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);


        vegaEmbed("#heatMap", heatMap, { "actions": false }).then(function(result) {
            // Access the Vega view instance
            // (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed("#map", map, { "actions": false }).then(function(result) {
            // Access the Vega view instance
            // (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
    
        vegaEmbed("#stackedArea", stackedArea, { "actions": false }).then(function(result) {
            // Access the Vega view instance
            // (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed("#stackedBar", stackedBar, { "actions": false }).then(function(result) {
        // Access the Vega view instance
        // (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
  </script>


</body>

</html>
